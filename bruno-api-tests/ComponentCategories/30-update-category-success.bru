meta {
  name: 更新分类
  type: http
  seq: 30
}

put {
  url: {{baseUrl}}/component-categories/{{testCategoryId}}
  body: json
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

body:json {
  {
    "name": "更新后的分类名称",
    "description": "更新后的描述",
    "sortOrder": 10,
    "isActive": true
  }
}

tests {
  test("状态码应为 200", function() {
    expect(res.status).to.equal(200);
  });

  test("应返回成功消息", function() {
    const body = res.body;
    expect(body.message).to.include("更新分类成功");
  });

  test("分类名称应已更新", function() {
    const category = res.body.data;
    expect(category.name).to.equal("更新后的分类名称");
  });
}

docs {
  # 更新分类测试
  
  ## 前提条件
  
  需要设置环境变量 testCategoryId 为一个存在的分类ID
  
  ## 可更新字段
  
  - name: 分类名称
  - description: 描述
  - icon: 图标URL
  - sortOrder: 排序序号
  - isActive: 是否启用
  
  ## 注意事项
  
  不建议修改以下字段（会影响已有组件）:
  - code: 分类编码
  - level: 层级
  - parentId: 父分类ID
}
