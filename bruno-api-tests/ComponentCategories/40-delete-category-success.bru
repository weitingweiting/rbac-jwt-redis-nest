meta {
  name: 删除分类
  type: http
  seq: 40
}

delete {
  url: {{baseUrl}}/component-categories/{{testCategoryId}}
  body: none
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

tests {
  test("状态码应为 200", function() {
    expect(res.status).to.equal(200);
  });

  test("应返回成功消息", function() {
    const body = res.body;
    expect(body.message).to.include("删除分类成功");
  });
}

docs {
  # 删除分类测试
  
  ## 前提条件
  
  需要设置环境变量 testCategoryId 为一个可删除的分类ID
  
  ## 删除限制
  
  1. **一级分类**: 如果下面有子分类，不能删除
  2. **有组件使用**: 如果有组件使用该分类，不能删除（待实现）
  
  ## 软删除说明
  
  这是软删除操作：
  - 数据不会真正删除
  - 设置 deleted_at 字段
  - 查询时自动过滤已删除数据
  
  ## 建议测试流程
  
  1. 先创建一个测试分类
  2. 确认该分类没有子分类和组件
  3. 执行删除测试
  4. 验证分类已被软删除
}
